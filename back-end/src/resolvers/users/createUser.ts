import { PrismaClient, Prisma } from "@prisma/client";
import bcrypt from "bcrypt";
import { Request, Response } from "express";

export const createUser = async (req: Request, res: Response) => {
  const { username, email, password } = req.body;
  const prisma = new PrismaClient();

  try {
    const encryptedPassword = await bcrypt.hash(password, 10);

    let user: Prisma.UserCreateInput;

    user = {
      email: email,
      username: username,
      password: encryptedPassword,
    };

    const createUser = await prisma.user.create({ data: user });

    res.json({
      message: "success",
      user: createUser,
    });
  } catch (error) {
    console.log(error);
    res.status(403).json({ message: "Error occurred" });
  }
};
// {
//   "name":"Test",
//   "about":"this is just a test",
//   "avatarImage":"data:image/png;base64,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",
//   "SocialMediaURL":"https://www.chess.com/",
//   "successMessage":"Congratulations! your profile is created",
//   "User":1
// }